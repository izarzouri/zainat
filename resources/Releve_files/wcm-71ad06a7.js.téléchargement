!function(e,r,t,n,o){o("wcm",["pagebus","jquery"],function(e,t){var n={};return n.ERROR_TOPIC="wcm.sf.displayError",n.notifyError=function(r){e.publish(n.ERROR_TOPIC,r)},n.load=function(e,n,o,i,s,l){var a=t(e);if(void 0===i&&(i=a.data("wcmcontentType"),void 0===i||null===i))throw new Error("WCM content type could not be determined.");if(void 0===s&&(s=a.data("wcmcontentAsset"),void 0===s||null===s))throw new Error("WCM content asset could not be determined.");void 0===l&&(l=a.data("wcmcontentIframe"));var c=s.split(".").pop();if("html"==c)var f=s;else var f=n+i+"?asset="+s;if(!l){var d=r.createElement("a");d.href=f;var u=d.protocol+"//"+d.host;return t.ajax({type:"GET",url:f,csrf:!1,success:function(e){if(e.indexOf('id="content_indisponible"')>-1)console.log("zone publiable"+f+"non trouv√©e"),a.html('<div class="errorZP"></div>');else if("html"==c)a.html(e);else{e=e.replace(/(\/rsc\/|\/sites\/)/g,u+"$1");var r=t(e).filter(function(e,r){return 1==r.nodeType&&"sf-master"==r.id});a.html(r)}}}).fail(function(e,r,t){throw new Error("WCM content load error "+r+" "+t+" for  "+f)})}a.html("<iframe seamless='seamless' scrolling='no' style='width:100%; height: 100%;'></iframe>"),t("iframe",a).attr("src",f)},Object.freeze(n),n})}(window,document,bnpp.sf31.requirejs,bnpp.sf31.requirejs,bnpp.sf31.define,bnpp.jquery,bnpp.jquery,bnpp.jquery);
//# sourceMappingURL=wcm-71ad06a7.js.map